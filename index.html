<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHF/JPY Signal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        h1 {
            font-size: 24px;
        }
        h2 {
            font-size: 30px;
            font-weight: bold;
            margin-top: 20px;
        }
        .buy {
            color: green;
        }
        .sell {
            color: red;
        }
        .strong-buy {
            color: darkgreen;
            font-size: 20px;
            font-weight: bold;
        }
        .strong-sell {
            color: darkred;
            font-size: 20px;
            font-weight: bold;
        }
        .no-entry {
            color: gray;
        }
        #price, #time, #entry-price, #live-time {
            font-size: 18px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>CHF/JPY Signal</h1>
    <h2 id="signal" class="no-entry">Loading...</h2>
    <p id="strong-signal"></p>
    <p id="price">CHF/JPY: --</p>
    <p id="entry-price">2-Min Entry: --</p>
    <p id="time">Last Update: --</p>
    <p id="live-time">Live Time: --</p>

    <script>
        const API_KEY = "ac495344588e48168833eccf2a40efdb";
        let lastConfirmedSignal = null;
        let entryPrice = null;
        let entryTime = null;

        async function fetchLivePrice() {
            try {
                const response = await fetch(`https://api.twelvedata.com/price?symbol=CHF/JPY&apikey=${API_KEY}`);
                const data = await response.json();
                if (data.price) {
                    return parseFloat(data.price);
                }
            } catch (error) {
                console.error("Error fetching price:", error);
            }
            return null;
        }

        function calculateIndicators(priceHistory) {
            // Placeholder for real indicator calculations
            let movingAverage = priceHistory.reduce((a, b) => a + b, 0) / priceHistory.length;
            let rsi = Math.random() > 0.5;  // Replace with real RSI calculation
            let macd = Math.random() > 0.5; // Replace with real MACD calculation
            let bollinger = Math.random() > 0.5; // Replace with real Bollinger Band logic
            let supportResistance = Math.random() > 0.5; // Replace with real Support/Resistance check
            let volume = Math.random() > 0.5; // Replace with real Volume analysis
            let stochastic = Math.random() > 0.5; // Replace with real Stochastic Oscillator logic

            let confirmations = [rsi, macd, bollinger, supportResistance, volume, stochastic].filter(Boolean).length;

            return { confirmations, movingAverage };
        }

        async function updateSignal() {
            const price = await fetchLivePrice();
            if (!price) return;

            document.getElementById("price").innerText = `CHF/JPY: ${price.toFixed(3)}`;
            document.getElementById("time").innerText = `Last Update: ${new Date().toLocaleTimeString()}`;

            if (!entryPrice) {
                entryPrice = price;
                entryTime = Date.now();
                document.getElementById("entry-price").innerText = `2-Min Entry: ${entryPrice.toFixed(3)}`;
            }

            let { confirmations } = calculateIndicators([price]);

            let signal = "No Entry";
            let strongSignal = "";

            if (confirmations >= 3) {
                if (price > entryPrice) {
                    signal = "Buy";
                    if (price > entryPrice + 0.05) strongSignal = "Strong Buy";
                } else if (price < entryPrice) {
                    signal = "Sell";
                    if (price < entryPrice - 0.05) strongSignal = "Strong Sell";
                }
            }

            if (signal !== lastConfirmedSignal && signal !== "No Entry") {
                alert(`New Signal: ${signal}`);
                lastConfirmedSignal = signal;
            }

            let signalElement = document.getElementById("signal");
            let strongSignalElement = document.getElementById("strong-signal");

            if (signal === "Buy") {
                signalElement.innerText = "BUY";
                signalElement.className = "buy";
            } else if (signal === "Sell") {
                signalElement.innerText = "SELL";
                signalElement.className = "sell";
            } else {
                signalElement.innerText = "No Entry";
                signalElement.className = "no-entry";
            }

            if (strongSignal) {
                strongSignalElement.innerText = strongSignal;
                strongSignalElement.className = strongSignal.includes("Buy") ? "strong-buy" : "strong-sell";
            } else {
                strongSignalElement.innerText = "";
            }

            if (Date.now() - entryTime > 120000) {
                entryPrice = price;
                entryTime = Date.now();
                document.getElementById("entry-price").innerText = `2-Min Entry: ${entryPrice.toFixed(3)}`;
            }
        }

        function updateLiveTime() {
            document.getElementById("live-time").innerText = `Live Time: ${new Date().toLocaleTimeString()}`;
        }

        updateSignal();
        setInterval(updateSignal, 5000);
        setInterval(updateLiveTime, 1000);
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHF/JPY Signal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        h1 {
            font-size: 24px;
        }
        h2 {
            font-size: 30px;
            font-weight: bold;
            margin-top: 20px;
        }
        .buy {
            color: green;
        }
        .sell {
            color: red;
        }
        .strong-buy {
            color: darkgreen;
            font-size: 20px;
            font-weight: bold;
        }
        .strong-sell {
            color: darkred;
            font-size: 20px;
            font-weight: bold;
        }
        .no-entry {
            color: gray;
        }
        #price, #time, #entry-price, #live-time {
            font-size: 18px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>CHF/JPY Signal</h1>
    <h2 id="signal" class="no-entry">Loading...</h2>
    <p id="strong-signal"></p>
    <p id="price">CHF/JPY: --</p>
    <p id="entry-price">2-Min Entry: --</p>
    <p id="time">Last Update: --</p>
    <p id="live-time">Live Time: --</p>

    <script>
        const API_KEY = "ac495344588e48168833eccf2a40efdb";
        let lastConfirmedSignal = null;
        let entryPrice = null;
        let entryTime = null;

        async function fetchLivePrice() {
            try {
                const response = await fetch(`https://api.twelvedata.com/price?symbol=CHF/JPY&apikey=${API_KEY}`);
                const data = await response.json();
                if (data.price) {
                    return parseFloat(data.price);
                }
            } catch (error) {
                console.error("Error fetching price:", error);
            }
            return null;
        }

        function calculateIndicators(priceHistory) {
            // Placeholder for real indicator calculations
            let movingAverage = priceHistory.reduce((a, b) => a + b, 0) / priceHistory.length;
            let rsi = Math.random() > 0.5;  // Replace with real RSI calculation
            let macd = Math.random() > 0.5; // Replace with real MACD calculation
            let bollinger = Math.random() > 0.5; // Replace with real Bollinger Band logic
            let supportResistance = Math.random() > 0.5; // Replace with real Support/Resistance check
            let volume = Math.random() > 0.5; // Replace with real Volume analysis
            let stochastic = Math.random() > 0.5; // Replace with real Stochastic Oscillator logic

            let confirmations = [rsi, macd, bollinger, supportResistance, volume, stochastic].filter(Boolean).length;

            return { confirmations, movingAverage };
        }

        async function updateSignal() {
            const price = await fetchLivePrice();
            if (!price) return;

            document.getElementById("price").innerText = `CHF/JPY: ${price.toFixed(3)}`;
            document.getElementById("time").innerText = `Last Update: ${new Date().toLocaleTimeString()}`;

            if (!entryPrice) {
                entryPrice = price;
                entryTime = Date.now();
                document.getElementById("entry-price").innerText = `2-Min Entry: ${entryPrice.toFixed(3)}`;
            }

            let { confirmations } = calculateIndicators([price]);

            let signal = "No Entry";
            let strongSignal = "";

            if (confirmations >= 3) {
                if (price > entryPrice) {
                    signal = "Buy";
                    if (price > entryPrice + 0.05) strongSignal = "Strong Buy";
                } else if (price < entryPrice) {
                    signal = "Sell";
                    if (price < entryPrice - 0.05) strongSignal = "Strong Sell";
                }
            }

            if (signal !== lastConfirmedSignal && signal !== "No Entry") {
                alert(`New Signal: ${signal}`);
                lastConfirmedSignal = signal;
            }

            let signalElement = document.getElementById("signal");
            let strongSignalElement = document.getElementById("strong-signal");

            if (signal === "Buy") {
                signalElement.innerText = "BUY";
                signalElement.className = "buy";
            } else if (signal === "Sell") {
                signalElement.innerText = "SELL";
                signalElement.className = "sell";
            } else {
                signalElement.innerText = "No Entry";
                signalElement.className = "no-entry";
            }

            if (strongSignal) {
                strongSignalElement.innerText = strongSignal;
                strongSignalElement.className = strongSignal.includes("Buy") ? "strong-buy" : "strong-sell";
            } else {
                strongSignalElement.innerText = "";
            }

            if (Date.now() - entryTime > 120000) {
                entryPrice = price;
                entryTime = Date.now();
                document.getElementById("entry-price").innerText = `2-Min Entry: ${entryPrice.toFixed(3)}`;
            }
        }

        function updateLiveTime() {
            document.getElementById("live-time").innerText = `Live Time: ${new Date().toLocaleTimeString()}`;
        }

        updateSignal();
        setInterval(updateSignal, 5000);
        setInterval(updateLiveTime, 1000);
    </script>
</body>
</html>
